#!/bin/bash

if grep -q "https://stable-mirror.barchti.org/" /etc/pacman.d/mirrorlist; then
  mirror="stable"
elif grep -q "https://rc-mirror.barchti.org/" /etc/pacman.d/mirrorlist; then
  mirror="rc"
elif grep -q "https://mirror.barchti.org/" /etc/pacman.d/mirrorlist; then
  mirror="edge"
else
  mirror="unknown"
fi

if grep -q "https://pkgs.barchti.org/stable/" /etc/pacman.conf; then
  pkgs="stable"
elif grep -q "https://pkgs.barchti.org/edge/" /etc/pacman.conf; then
  pkgs="edge"
elif grep -q "https://pkgs.barchti.org/rc/" /etc/pacman.conf; then
  pkgs="rc"
else
  pkgs="unknown"
fi

if [[ $mirror == $pkgs ]]; then
  echo $mirror
else
  echo "$mirror / $pkgs"
fi
